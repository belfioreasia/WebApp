{"ast":null,"code":"/* eslint-disable */\nimport axios from 'axios';\nimport ToggleList from '@/components/ToggleList.vue';\nimport ResultTab from '@/components/ResultTab.vue';\nimport AlertPopup from '@/components/AlertPopup.vue';\nconst axiosInstance = axios.create({\n  baseURL: 'http://127.0.0.1:5000/pred',\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n});\nexport default {\n  name: \"PredView\",\n  components: {\n    ToggleList,\n    ResultTab,\n    AlertPopup\n  },\n  data() {\n    return {\n      is_waiting: false,\n      isDragging: false,\n      file: undefined,\n      file_uploaded: false,\n      disease_result: [],\n      user_mutations: [],\n      show_alert: false\n    };\n  },\n  methods: {\n    async postToBackend() {\n      try {\n        const formData = new FormData();\n        formData.append('file', this.file);\n        this.is_waiting = true;\n        const response = await axiosInstance.post('http://127.0.0.1:5000/pred', formData);\n        if (response.data.status == -1) {\n          this.is_waiting = false;\n          console.log(response.data.result);\n          console.log('File not readable.');\n          // POPUP ERROR \n          this.show_alert = true;\n          this.file_uploaded = false;\n          this.file = undefined;\n        } else {\n          this.is_waiting = false;\n          console.log('File uploaded successfully.');\n          this.file_uploaded = true;\n          console.log(response.data.status);\n          this.disease_result[0] = response.data.result;\n          this.disease_result[1] = response.data.prs;\n          this.user_mutations = response.data.user_snps;\n        }\n      } catch (error) {\n        console.error('Error uploading data.', error);\n        this.file = undefined;\n        this.file_uploaded = false;\n      }\n    },\n    async testRun() {\n      try {\n        this.is_waiting = true;\n        const response = await axios.get('http://127.0.0.1:5000/pred-samplefile');\n        if (response.data.status == -1) {\n          this.is_waiting = false;\n          console.log(response.data.result);\n          console.log('File not readable.');\n          // POPUP ERROR \n          this.show_alert = true;\n          this.file_uploaded = false;\n          this.file = undefined;\n        } else {\n          this.is_waiting = false;\n          console.log('File uploaded successfully.');\n          this.file_uploaded = true;\n          console.log(response.data.status);\n          this.disease_result[0] = response.data.result;\n          this.disease_result[1] = response.data.prs;\n          this.user_mutations = response.data.user_snps;\n        }\n      } catch (error) {\n        console.error('Error uploading data.', error);\n        this.file = undefined;\n        this.file_uploaded = false;\n      }\n    },\n    uploadFile(event) {\n      this.file = event.target.files[0];\n    },\n    dragover(e) {\n      e.preventDefault();\n      this.isDragging = true;\n    },\n    dragleave() {\n      this.isDragging = false;\n    },\n    drop(event) {\n      event.preventDefault();\n      this.isDragging = false;\n      this.file = event.dataTransfer.files[0];\n    },\n    closeAlert() {\n      this.show_alert = false;\n    }\n  }\n};","map":{"version":3,"names":["axios","ToggleList","ResultTab","AlertPopup","axiosInstance","create","baseURL","headers","name","components","data","is_waiting","isDragging","file","undefined","file_uploaded","disease_result","user_mutations","show_alert","methods","postToBackend","formData","FormData","append","response","post","status","console","log","result","prs","user_snps","error","testRun","get","uploadFile","event","target","files","dragover","e","preventDefault","dragleave","drop","dataTransfer","closeAlert"],"sources":["/Users/asiabelfiore/Desktop/WebApp/frontend/src/views/PredView.vue"],"sourcesContent":["<!-- eslint-disable -->\n<template>\n  <div class=\"page-container\">\n    <h1> Predict your Crohn's Disease genetic score </h1>\n    <p> Use our \n      <router-link to=\"/our-research\" class=\"link\"> Neural Network </router-link> \n      to predict your Crohn's Disease Genetic Risk\n    </p>\n    <h4 v-if=\"!file_uploaded\"> Insert your file here: </h4>\n    <h4 v-else-if=\"file_uploaded\"> Your Results: </h4>\n      <div class=\"drop-area\"  v-if=\"!this.file_uploaded\"\n          @dragover=\"dragover\"\n          @dragleave=\"dragleave\"\n          @drop=\"drop\">\n            <input class=\"hidden\" name=\"file\" id=\"fileInput\" ref=\"file\" type=\"file\"\n                   @change=\"uploadFile\" accept=\".txt, .vcf\"/>\n            <label for=\"fileInput\" class=\"drop-instructions\">\n              <div v-if=\"isDragging\"> Drop files here. </div>\n              <div v-else> Drop files here or <u>click to upload</u>. </div>\n            </label>\n            <div class=\"preview-file\" v-if=\"this.file && !this.file_uploaded\" >\n                <div class=\"preview-card\" >\n                    <div>  <p> {{ this.file.name }} </p> </div>\n                </div>\n            </div>\n            <button class=\"btn\" @click=\"postToBackend\" v-if=\"this.file && !this.file_uploaded\" > Upload </button>\n        </div>\n    <div v-if=\"!file_uploaded\">\n    <p> Or try our services with <button class=\"btn\" @click=\"testRun\"> TEST DATA </button></p>\n       <div class=\"toggle-lists-footer\"> \n          <ToggleList title=\"Is my file in the right format?\"\n                      :index=\"0\"\n                      :width=\"20\" >\n                        <div class=\"inside-toggle-list\">\n                          <p> Crohn's disease has a complex etiology resultin.</p>\n                        </div>\n                    </ToggleList>\n          <ToggleList title=\"What happens to my data?\"\n                    :index=\"1\"\n                    :width=\"20\">\n                      <div class=\"inside-toggle-list\">\n                        <p> Crohn's disease has a complex etiology resultin.</p>\n                      </div>\n                  </ToggleList>\n       </div>\n    </div>\n    <AlertPopup v-if=\"is_waiting\" class=\"alert\" type=\"loading\"/>\n    <AlertPopup v-if=\"show_alert\" class=\"alert\" @close=\"closeAlert\" type=\"alert\"/>\n    <ResultTab v-if=\"file_uploaded && !show_alert\" class=\"result-tab\" :score=\"this.disease_result\" :snp_list=\"this.user_mutations\"/>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport axios from 'axios';\nimport ToggleList from '@/components/ToggleList.vue';\nimport ResultTab from '@/components/ResultTab.vue';\nimport AlertPopup from '@/components/AlertPopup.vue';\n\nconst axiosInstance = axios.create({\n  baseURL: 'http://127.0.0.1:5000/pred', \n  headers: { 'Content-Type': 'multipart/form-data' }\n});\n\n\nexport default {\n  name: \"PredView\",\n  components: {\n    ToggleList,\n    ResultTab,\n    AlertPopup,\n  },\n  data() {\n      return {\n        is_waiting: false,\n        isDragging: false,\n        file: undefined,\n        file_uploaded: false,\n        disease_result: [],\n        user_mutations: [],\n        show_alert: false\n        };\n    },\n    methods: {\n      async postToBackend() {\n        try {\n          const formData = new FormData();\n          formData.append('file', this.file); \n          this.is_waiting = true;\n          const response = await axiosInstance.post('http://127.0.0.1:5000/pred', formData);\n          if (response.data.status == -1) {\n              this.is_waiting = false;\n              console.log(response.data.result);\n              console.log('File not readable.');\n              // POPUP ERROR \n              this.show_alert = true;\n              this.file_uploaded = false;\n              this.file = undefined;\n          } \n          else{\n              this.is_waiting = false;\n              console.log('File uploaded successfully.');\n              this.file_uploaded = true;\n              console.log(response.data.status);\n              this.disease_result[0] = (response.data.result);\n              this.disease_result[1] = (response.data.prs);\n              this.user_mutations = (response.data.user_snps);\n          }         \n        } catch (error) {\n          console.error('Error uploading data.', error);\n          this.file = undefined;\n          this.file_uploaded = false;\n        }\n      },\n\n      async testRun() {\n        try {\n          this.is_waiting = true;\n          const response = await axios.get('http://127.0.0.1:5000/pred-samplefile');\n          if (response.data.status == -1) {\n              this.is_waiting = false;\n              console.log(response.data.result);\n              console.log('File not readable.');\n              // POPUP ERROR \n              this.show_alert = true;\n              this.file_uploaded = false;\n              this.file = undefined;\n          } \n          else{\n              this.is_waiting = false;\n              console.log('File uploaded successfully.');\n              this.file_uploaded = true;\n              console.log(response.data.status);\n              this.disease_result[0] = (response.data.result);\n              this.disease_result[1] = (response.data.prs);\n              this.user_mutations = (response.data.user_snps);\n          }         \n        } catch (error) {\n          console.error('Error uploading data.', error);\n          this.file = undefined;\n          this.file_uploaded = false;\n        }\n      },\n\n      uploadFile(event) {\n        this.file = event.target.files[0];\n      },\n      \n      dragover(e) {\n        e.preventDefault();\n        this.isDragging = true;\n      },\n      \n      dragleave() {\n        this.isDragging = false;\n      },\n\n      drop(event) {\n        event.preventDefault();\n        this.isDragging = false;\n        this.file = event.dataTransfer.files[0];\n      },\n      closeAlert() {\n        this.show_alert = false;\n      },\n    },\n}\n  </script>\n\n<style scoped>\n.page-container {\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  align-items: center;\n  margin-bottom: 2vh;\n  padding-top: 2vh;\n  height: 100%;\n  background-color: rgb(244, 244, 245, 0.5);\n}\n\nh4 {\n  margin: 2vh 0 1vh 0;\n  font-size: 20px;\n}\n\na, u{\n  color: rgba(125, 33, 103);\n  font-weight: 500;\n  font-style: italic;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.drop-area {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  \n  margin: 0.8rem;\n  padding: 1rem 2rem 1rem 2rem;\n  border-radius: 25px;\n  height: 30vh;\n  width: 50vw;\n\n  background: rgba(125, 33, 103, 0.03);\n  border: 3px dotted rgba(125, 33, 103, 0.1);\n  box-shadow: 2px 2px 2px 2px rgba(205, 204, 204, 0.3);\n}\n\n#fileInput, .drop-instructions {\n  color: rgb(72, 71, 73);\n  align-self: center;\n  padding: auto;\n  margin: auto;\n  font-size: 15px;\n  cursor: pointer;\n}\n\n.hidden {\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  width: 1px;\n  height: 1px;\n}\n\n.preview-card {\n  display: flex;\n  border: 1px solid rgba(125, 33, 103, 1);\n  background-color: #fff;\n  border-radius: 8px;\n  padding: 0px 20px 0px 20px;\n  margin-left: 5px;\n}\n\n.results-tab {\n  margin: 20px;\n}\n\n.toggle-lists-footer {\n  display: flex;\n  gap: 0.1vw;\n  place-items: flex-start;\n  align-content: center;\n}\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}